
# 概要

所有的策略类在：BarStrategy.py


策略分为几个类别：
+ 简单策略：只考虑单中股票，不考虑仓位。
+ 操作单策略：考虑多个股票，并生成操作单方式，选择最优的方式，不考虑仓位
+ 实盘策略： 真正模拟实盘操作，考虑多个股票和当前账号、资金仓位。

不同的策略，考虑的场景不同，实现的成本不同。比如：简单策略，就是大概看下指标的情况和特效，用于快速研究看数据目的。
而操作单策略，适用没有自动交易账号API而无法考虑仓位和自动交易的场景，采用一种推荐单的方式去手动下单。
实盘策略策略需要一个自动交易账号API的场景。


相关的策略评测可以参考：
+ [申万二级行业策略分析](案例/申万二级行业策略分析.md)

<span id='simple_strategy'/>

#简单策略

### BuyOrSellStrategy

##### 说明
属于单个股票操作类，单个股票的买入卖出策略类。 计算买入点和卖出点的 。
缺点：
+ 可能持有周期太长，没有止损点操作，对于买入点产出之后的中途走势异样没有修正。
+ 卖出点没有细分：止损点和止盈点，比较粗糙。

相关联的:analysis_BuyOrSellStrategy()

##### 策略评估指标：
+ 交易数： 数量超过100个才有意义
+ 均收益： 每个操作的平均收益
+ 均天数： 每个操作的平均持有天数
+ 正向收益分布：
+ 反向收益分布：  
+ 反向值：  反向操作的值，一般来说，策略的正向操作与反向操作的收益分布应该是相反的才对，如果不相反说明没有该策略的没有任何操作意义。具体的：1以下是及格的，越接近0越好。

有价值的策略应该是正向和反向操作是相反性质的，如果没有相反性质说明该策略没有价值。

##### 反向值的研究

  有个简单策略：买入的点就是macd的金叉，卖出点就是macd的死叉，得出来的数据是：

```
交易总数:519, 平均涨幅:4.92, 平均持有天数:15.90
收益分布情况:,[-MAX:-1.00)=52.22%,[1.00:MAX)=42.97%,[-1.00:1.00)=4.82%
```
  
  按道理来说，如果这个策略反过来操作，即：买入的点就是macd的死叉，卖出点就是macd的金叉。那应该收益率是反过来的，但实际结果是：

```
交易总数:517, 平均涨幅:6.53, 平均持有天数:16.35
收益分布情况:,[1.00:MAX)=48.16%,[-MAX:-1.00)=47.39%,[-1.00:1.00)=4.45%
```


### 复杂策略策略。

属于单个股票操作类，考虑分钟K线，会考虑买入点、止盈点、止孙点、观望状态等等。

<span id='op_strategy'/>

#操作单策略

操作单策略，每天生成操作单，然后下一个交易日按照当前的操作单执行。

* [Op操作单框架](earnmi_docs/book/op_project.md)
    * [数据库设计](earnmi_docs/book/op_project_database.md)
    * 基于操作单生成方式的操作策略（适用日k线)
    * 基于因子分数的操作策略（使用日，分钟k线)


<span id='real_strategy'/>

#实盘策略

待补充










